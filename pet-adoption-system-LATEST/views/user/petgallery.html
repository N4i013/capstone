<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      name="description"
      content="Find, Care, and Reunite: Your all-in-one web platform for pet adoption, comprehensive pet care resources, and reuniting lost pets with their owners."
    />
    <meta
      name="author"
      content="Cindy Lyka Banabatac, IaN Michael Barral, Nathan Buligan"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="images/QCACAC LOGO.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="mystyle/style.css" />
    <script src="javascript/script.js"></script>
    <title>Quezon City Animal Care and Adoption Center</title>
  </head>
  <body>
    <nav id="navbar">
      <div class="nav-wrapper">
          <div class="logo">
              <a href="/">
                  <img width="63px" height="60px" src="images/QCACAC LOGO.png" alt="LOGO">
              </a>
          </div>
          <ul>
              <li><a href="/" class="active">Home</a></li>
              <li><a href="/petgallery">Pet Gallery</a></li>
              <li><a href="/services">Services</a></li>
              <li><a href="/QCAnimalPound">QC Animal Pound</a></li>
          </ul>
  
          <!-- Login Button -->
          <button type="button" class="button-color" id="loginButton" onclick="window.location.href='/login';">Login</button>

          <!-- Profile Avatar -->
          <div id="profile-container" >
              <a href="/userprofile">
                  <img id="profile-avatar" src="/public/images/profile.jpg" alt="User Avatar" class="avatar" width="40" height="40">
              </a>
          </div>
      </div>
  </nav>
  

    <div class="container mt-3">
      <div class="row mb-5 justify-content-center">
        <div class="col-auto">
          <a href="#dogs-section" class="btn-pet">Dogs</a>
          <a href="/cats" class="btn-pet">Cats</a>
        </div>
      </div>

      <div class="row">
        <div class="col-12 col-md-6 col-lg-4 mb-4">
          <div class="image-container">
            <img src="images/dog1.jpg" alt="Image 1" />
            <img src="images/cat1.jpg" alt="Image 2" class="hidden" />
            <img src="images/lostdog.jpg" alt="Image 3" class="hidden" />
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4 mb-4">
          <div class="image-container">
            <img src="images/dog1.jpg" alt="Image 4" />
            <img src="images/cat1.jpg" alt="Image 5" class="hidden" />
            <img src="images/lostdog.jpg" alt="Image 6" class="hidden" />
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4 mb-4">
          <div class="image-container">
            <img src="images/dog1.jpg" alt="Image 7" />
            <img src="images/cat1.jpg" alt="Image 8" class="hidden" />
            <img src="images/lostdog.jpg" alt="Image 9" class="hidden" />
          </div>
        </div>
      </div>
    </div>

    <footer class="footer-container">
      <div class="container">
          <p>
              <a href="#">Privacy Policy</a> | 
              <a href="#">Terms of Service</a> | 
              <a href="contactus.html">Contact Us</a>
          </p>
          <div class="social-media">
              <a href="https://www.facebook.com/animalcareandadoptioncenter"><img src="images/facebook.png" alt="Facebook"></a>
              <a href="#"><img src="images/instagram.png" alt="Instagram"></a>
              <a href="#"><img src="images/gmail.png" alt="Gmail"></a>
          </div>
      </div>
      <br>
      <p>&copy; 2024 Pet Adoption. All rights reserved.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
        // Fetch the user profile data from the server
        fetch('/userprofile')
            .then(response => response.json())
            .then(data => {
                if (data.loggedIn) {
                    // Hide the login button and display the avatar
                    document.getElementById('loginButton').style.display = 'none';
                    document.getElementById('profile-container').style.display = 'flex';

                    const profileAvatar = document.getElementById('profile-avatar');
                    if (data.profilePic) {
                        profileAvatar.src = data.profilePic;  // Use the profile picture
                    } else {
                        const initials = `${data.firstName[0]}${data.lastName[0]}`;  // Create initials
                        profileAvatar.src = `https://via.placeholder.com/150?text=${initials}`;  // Placeholder avatar
                    }
                } else {
                    // If the user is not logged in, display the login button
                    document.getElementById('profile-container').style.display = 'none';
                    document.getElementById('loginButton').style.display = 'block';
                }
            })
            .catch(error => {
                console.error('Error fetching profile data:', error);
            });
    });
</script>
</body>
</html>

